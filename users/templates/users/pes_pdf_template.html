<!DOCTYPE html>
<html>
<head>
    <style>
        @page { size: A4; margin: 0; }
        body { font-family: 'Helvetica', sans-serif; color: #2c1e1a; line-height: 1.4; }
        .page-wrapper { padding: 40px; }

        /* Luxusní hlavička */
        .header { text-align: center; border-bottom: 3px solid #c5a059; padding-bottom: 20px; }
        .dog-name { font-size: 32px; font-weight: bold; color: #5d4037; margin: 0; text-transform: uppercase; }
        .breed { font-style: italic; color: #c5a059; font-size: 18px; }

        /* Hlavní foto a info */
        .main-grid { margin-top: 30px; width: 100%; }
        .photo-box { width: 45%; }
        .info-box { width: 55%; padding-left: 20px; vertical-align: top; }

        .section-title {
            background: #5d4037; color: white; padding: 5px 15px;
            font-size: 14px; text-transform: uppercase; margin-top: 20px;
        }

        /* Rodokmen s dědičností */
        .pedigree-table { width: 100%; border-collapse: collapse; margin-top: 10px; font-size: 10px; }
        .pedigree-table td { border: 1px solid #d1c4b9; padding: 8px; vertical-align: top; width: 33%; }
        .parent { background: #fdf9f3; font-weight: bold; font-size: 11px; }
        .health-tag { color: #27ae60; font-weight: bold; font-size: 9px; }

        .footer { position: absolute; bottom: 30px; width: 100%; text-align: center; font-size: 10px; color: #999; }
    </style>
</head>
<body>
    <div class="page-wrapper">
        <div class="header">
            <h1 class="dog-name">{{ pes.jmeno }}</h1>
            <div class="breed">{{ pes.rasa }}</div>
        </div>

        <table class="main-grid">
            <tr>
                <td class="photo-box">
                    {% if pes.fotka %}
                        <img src="{{ pes.fotka.path }}" style="width: 100%; border-radius: 15px;">
                    {% endif %}
                </td>
                <td class="info-box">
                    <div class="section-title">Základní údaje</div>
                    <p><strong>Číslo zápisu:</strong> {{ pes.cislo_zapisu }}<br>
                    <strong>Čip:</strong> {{ pes.cip }}<br>
                    <strong>Datum narození:</strong> {{ pes.narozeni|date:"d.m.Y" }}<br>
                    <strong>Barva/Srst:</strong> {{ pes.barva }}, {{ pes.srst }}</p>

                    <div class="section-title">Zdravotní výsledky</div>
                    <p><strong>DKK (HD):</strong> {{ pes.rtg_hd|default:"-" }} | <strong>DLK (ED):</strong> {{ pes.rtg_ed|default:"-" }}<br>
                    <strong>Páteř:</strong> {{ pes.rtg_pater|default:"-" }}<br>
                    <strong>Genetika:</strong> {{ pes.genetika_dna|default:"Neuvedeno" }}</p>
                </td>
            </tr>
        </table>

        <div class="section-title">3-Generační Rodokmen s dědičností</div>
        <table class="pedigree-table">
            <tr>
                <td rowspan="2" class="parent">
                    OTEC: {{ pes.otec.jmeno|default:pes.otec_manualni }}<br>
                    <span class="health-tag">HD: {{ pes.otec.rtg_hd }} ED: {{ pes.otec.rtg_ed }}</span>
                </td>
                <td class="parent">Děda: {{ pes.otec.otec.jmeno|default:"-" }}</td>
            </tr>
            <tr>
                <td class="parent">Babička: {{ pes.otec.matka.jmeno|default:"-" }}</td>
            </tr>
            <tr>
                <td rowspan="2" class="parent">
                    MATKA: {{ pes.matka.jmeno|default:pes.matka_manualni }}<br>
                    <span class="health-tag">HD: {{ pes.matka.rtg_hd }} ED: {{ pes.matka.rtg_ed }}</span>
                </td>
                <td class="parent">Děda: {{ pes.matka.otec.jmeno|default:"-" }}</td>
            </tr>
            <tr>
                <td class="parent">Babička: {{ pes.matka.matka.jmeno|default:"-" }}</td>
            </tr>
        </table>

        <div class="section-title">Výstavní a pracovní úspěchy</div>
        <p style="font-size: 12px;">{{ uspechy|join:", " }}</p>

        <div class="footer">
            Generováno portálem MojePsíData.cz – Profesionální správa chovu
        </div>
    </div>
</body>
</html>