{% extends 'home/base.html' %}

{% block content %}
<div class="container mt-4" style="max-width: 800px;">
    <h2 class="fw-bold mb-4" style="color: var(--primary-brown);">ğŸ”” Tvoje novinky</h2>

    <div class="list-group border-0">
        {% for n in nots %}
            <div class="list-group-item d-flex align-items-center mb-3 border-0 shadow-sm rounded-4 {% if not n.precteno %}notification-unread{% else %}bg-white{% endif %}" style="padding: 20px; border: 1px solid var(--card-border) !important;">

                <div class="me-3 icon-circle">
                    {% if n.typ == 'like' %}â¤ï¸{% elif n.typ == 'komentar' %}ğŸ’¬{% elif n.typ == 'odpoved' %}ğŸ¾{% endif %}
                </div>

                <div class="flex-grow-1">
                    <p class="mb-0 text-dark">
                        <strong style="color: var(--primary-brown);">@{{ n.odesilatel.username }}</strong>
                        {% if n.typ == 'like' %}se lÃ­bÃ­ tvÅ¯j pÅ™Ã­spÄ›vek{% elif n.typ == 'komentar' %}napsal komentÃ¡Å™{% elif n.typ == 'odpoved' %}ti odpovÄ›dÄ›l{% endif %}
                        na zdi <strong style="color: var(--gold-accent);">{{ n.prispevek.plemeno.nazev|default:n.prispevek.sekce_slug }}</strong>.
                    </p>
                    <small class="text-muted">{{ n.datum_vytvoreni|timesince }} zpÄ›t</small>
                </div>

                {% if n.prispevek %}
                    <a href="{% url 'zed_plemene' n.prispevek.plemeno.slug|default:n.prispevek.sekce_slug %}" class="btn-gold-sm">Zobrazit</a>
                {% endif %}
            </div>
        {% empty %}
            <div class="text-center p-5 bg-white rounded-4 shadow-sm" style="border: 1px solid var(--card-border);">
                <div style="font-size: 3rem; filter: sepia(1); opacity: 0.3;">ğŸ“¬</div>
                <p class="text-muted mt-3 fw-bold">ZatÃ­m Å¾Ã¡dnÃ© novÃ© notifikace.</p>
            </div>
        {% endfor %}
    </div>
</div>

<style>
    /* ZlatÃ© tlaÄÃ­tko mÃ­sto modrÃ©ho/tmavÃ©ho */
    .btn-gold-sm {
        background: var(--gold-accent);
        color: white !important;
        text-decoration: none;
        padding: 6px 15px;
        border-radius: 20px;
        font-size: 0.85rem;
        font-weight: 700;
        transition: 0.3s;
    }
    .btn-gold-sm:hover {
        background: var(--primary-brown);
        transform: translateY(-2px);
    }

    /* BarevnÃ½ krouÅ¾ek pod ikonou */
    .icon-circle {
        width: 45px;
        height: 45px;
        background: var(--gold-light);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    /* ZvÃ½raznÄ›nÃ­ nepÅ™eÄtenÃ½ch v krÃ©movÃ© barvÄ› webu */
    .notification-unread {
        background-color: #fff9f0 !important;
        border-left: 5px solid var(--gold-accent) !important;
    }
</style>
{% endblock %}