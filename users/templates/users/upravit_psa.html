{% extends 'home/base.html' %}
{% load crispy_forms_tags %}

{% block content %}
<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="alert mb-4 text-center" style="background-color: #fff9db; border: 1px solid #ffe066; border-radius: 15px; padding: 12px;">
                <span class="me-2">üí°</span>
                <strong>Tip:</strong> S Premium verz√≠ m≈Ø≈æete p≈ôidat neomezenƒõ ps≈Ø a z√≠skat kompletn√≠ zdravotn√≠ profil.
            </div>

            <div class="card shadow-sm border-0 rounded-4 p-4">
                <div class="text-center mb-4">
                    <h2 class="fw-bold" style="color: #5d4037;">
                        <i class="fas fa-cog me-2" style="color: #bcaaa4;"></i> √öprava profilu
                    </h2>
                    <p class="text-muted small">Vypl≈àte √∫daje o va≈°em pejskovi</p>
                </div>

                <form method="POST" enctype="multipart/form-data">
                    {% csrf_token %}

                    <div class="p-3 mb-4 rounded-4" style="background-color: #fff5f5; border: 1px solid #ffe3e3;">
                        <div class="d-flex align-items-center justify-content-between">
                            <div>
                                <h6 class="text-danger fw-bold mb-0">üö® RE≈ΩIM "HLED√Å SE"</h6>
                                <p class="text-muted mb-0" style="font-size: 0.8rem;">Aktivujte jen v p≈ô√≠padƒõ ztr√°ty!</p>
                            </div>
                            <div class="form-check form-switch">
                                {{ form.je_ztraceny }}
                            </div>
                        </div>
                    </div>

                    <h5 class="fw-bold mb-3" style="color: #8d6e63;"><i class="fas fa-map-marker-alt me-2 text-danger"></i> Z√°kladn√≠ √∫daje</h5>
                    <div class="row">
                        <div class="col-md-8">{{ form.jmeno|as_crispy_field }}</div>
                        <div class="col-md-4">{{ form.vek|as_crispy_field }}</div>
                        <div class="col-md-12">{{ form.rasa|as_crispy_field }}</div>
                        <div class="col-md-12">{{ form.fotka|as_crispy_field }}</div>
                        <div class="col-md-12">{{ form.cip|as_crispy_field }}</div>
                    </div>

                    <div class="mt-4 mb-4 p-4 rounded-4 shadow-sm" style="background-color: #f8fff9; border: 1px solid #d4edda;">
                        <h5 class="fw-bold mb-3 text-success" style="font-size: 1.1rem;">
                            <i class="fas fa-shield-dog me-2"></i> Term√≠ny prevence (Zdarma)
                        </h5>
                        <div class="row">
                            <div class="col-md-4">
                                {{ form.posledni_ockovani|as_crispy_field }}
                            </div>
                            <div class="col-md-4">
                                {{ form.posledni_odcerveni|as_crispy_field }}
                            </div>
                            <div class="col-md-4">
                                {{ form.posledni_klistata|as_crispy_field }}
                            </div>
                        </div>
                        <p class="text-muted mb-0 mt-2" style="font-size: 0.75rem;">
                            <i class="fas fa-info-circle me-1"></i> Tato data uvid√≠te na hlavn√≠ kartƒõ psa.
                        </p>
                    </div>

                    <h5 class="fw-bold mb-3 mt-4" style="color: #8d6e63;"><i class="fas fa-dna me-2"></i> Zdrav√≠ a Rodokmen üîí</h5>
                    <div class="p-4 rounded-4 border text-center" style="background-color: #fcfcfc; border-style: dashed !important; position: relative; overflow: hidden;">

                        <div style="opacity: 0.3; filter: blur(1px); pointer-events: none;">
                            <div class="row">
                                <div class="col-md-6">{{ form.rtg_hd|as_crispy_field }}</div>
                                <div class="col-md-6">{{ form.rtg_ed|as_crispy_field }}</div>
                                <div class="col-md-6">{{ form.otec_manualni|as_crispy_field }}</div>
                                <div class="col-md-6">{{ form.matka_manualni|as_crispy_field }}</div>
                            </div>
                        </div>

                        <div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center; background: rgba(255,255,255,0.2);">
                            <i class="fas fa-lock fa-2x mb-3" style="color: #c5a059;"></i>
                            <h6 class="fw-bold mb-1">Pr√©miov√© funkce jsou uzamƒçeny</h6>
                            <p class="text-muted small px-5 mb-3">Pole pro RTG v√Ωsledky, DNA testy a rodokmen jsou dostupn√© pouze v Premium verzi.</p>
                            <a href="{% url 'cenik' %}" class="btn btn-sm px-4 fw-bold shadow-sm" style="background-color: white; border: 1px solid #c5a059; color: #b08d4a; border-radius: 20px;">
                                Aktivovat Premium
                            </a>
                        </div>
                    </div>

                    <div class="mt-5">
                        <button type="submit" class="btn w-100 py-3 rounded-4 shadow-sm" style="background-color: #5d4037; color: white; border: none; font-weight: 600; font-size: 1.1rem;">
                            Ulo≈æit zmƒõny
                        </button>
                        <div class="text-center mt-3">
                            <a href="{% url 'seznam_psu' %}" class="text-muted text-decoration-none small">
                                Zru≈°it a zpƒõt na seznam
                            </a>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<style>
    /* Stylov√°n√≠ formul√°≈ôov√Ωch pol√≠ pro lep≈°√≠ vzhled */
    input[type="text"], input[type="number"], input[type="date"], select, textarea {
        border-radius: 12px !important;
        border: 1px solid #dee2e6 !important;
        padding: 10px 15px !important;
        font-size: 0.95rem !important;
    }
    input:focus {
        border-color: #c5a059 !important;
        box-shadow: 0 0 0 0.2rem rgba(197, 160, 89, 0.1) !important;
    }
    .form-check-input:checked {
        background-color: #dc3545;
        border-color: #dc3545;
    }
</style>
{% endblock %}