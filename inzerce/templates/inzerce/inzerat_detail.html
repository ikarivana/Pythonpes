{% extends 'home/base.html' %}

{% block content %}
<style>
    .detail-card { background: white; border-radius: 30px; padding: 40px; }
    .price-tag { 
        font-size: 2rem; 
        color: var(--accent-gold); 
        font-weight: 700;
        font-family: 'Playfair Display', serif;
    }
    .main-img { 
        width: 100%; 
        border-radius: 20px; 
        box-shadow: var(--shadow-item);
    }
    .info-box {
        background: var(--bg-light);
        border-radius: 20px;
        padding: 25px;
        border-left: 5px solid var(--accent-gold);
    }
    .gallery-img {
        width: 100%;
        height: 150px;
        object-fit: cover;
        border-radius: 12px;
        cursor: pointer;
        transition: 0.3s;
    }
    .gallery-img:hover { transform: scale(1.05); }
    .video-container {
        border-radius: 20px;
        overflow: hidden;
        background: black;
    }
</style>

<div class="detail-card shadow-sm">
    <div class="row">
        <div class="col-md-7">
            <img src="{{ inzerat.obrazek.url }}" class="main-img mb-3" alt="{{ inzerat.titulek }}">
            
            {% if inzerat.video %}
            <div class="video-container mb-3">
                <video controls width="100%">
                    <source src="{{ inzerat.video.url }}" type="video/mp4">
                    Váš prohlížeč nepodporuje video.
                </video>
            </div>
            {% endif %}

            <div class="row g-2">
                {% for foto in inzerat.galerie.all %}
                <div class="col-3">
                    <img src="{{ foto.obrazek.url }}" class="gallery-img">
                </div>
                {% endfor %}
            </div>
        </div>

        <div class="col-md-5">
            <h1 class="font-playfair mb-2">{{ inzerat.titulek }}</h1>
            <p class="text-muted"><i class="fas fa-map-marker-alt"></i> {{ inzerat.kraj }}, {{ inzerat.mesto }}</p>
            <div class="price-tag mb-4">{{ inzerat.cena }} Kč</div>

            <div class="info-box mb-4">
                <h5>Popis:</h5>
                <p>{{ inzerat.text|linebreaks }}</p>
            </div>

            <div class="d-grid gap-2">
                <a href="tel:{{ inzerat.telefon }}" class="premium-btn" style="text-decoration: none;">
                    <i class="fas fa-phone"></i> ZAVOLAT: {{ inzerat.telefon }}
                </a>
                <p class="text-center mt-2 small text-muted">Inzerát vložen: {{ inzerat.datum_vlozeni|date:"d. m. Y" }}</p>
            </div>
        </div>
    </div>
</div>
{% endblock %}